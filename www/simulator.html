<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>

    <!-- Properties can be specified to influence deferred binding -->
    <meta name='gwt:property' content='locale=en_UK'>


    <!-- Titles are optional, but useful -->
    <title>simulator frame</title>

<style>
body {
	margin: 0 !important;
}

.disabled {
	color: lightgray
}
.topSpace {
	margin-top: 12px;
}
.cursorPointer {
   cursor: default;
}
.cursorCross {
   cursor: crosshair;
}

.cursorSplitter {
   cursor: row-resize;
}

.gwt-MenuItem-disabled {
	color: lightgray;
}
.offScreen {
	position: absolute;
	right: 101%;
	overflow: hidden;
}
.gwt-Frame{
	scrolling:"no";
	border: 0px !important;
}

.gwt-MenuItem {
	font-size: 12px !important;
}

.gwt-MenuBar-horizontal {
	font-size: 12px !important;
	/* Hide GWT menu bar - using unified toolbar instead */
	display: none !important;
	}

.gwt-Label-selected {
	font-size: 1.3em;
	font-weight: 700;
	/*border-top: 1px solid black;*/
	/*border-bottom: 1px solid black;*/
}
.gwt-Label-1off {
	color: DarkGray;
}

.gwt-Label-2off {
	font-size:0.8em;
	color: LightGray;
}

.gwt-Label-current {
}

.gwt-Button.chbut {
	padding:3px;
	margin: 3px;
}

.gwt-Button.chbut.chsel {
	font-weight: bold;
}

.gwt-Button.chbut-black {
	background: black;
	color: white;
}

.gwt-Button.chbut-white {
	background: white;
	color: black;
}

.gwt-TextBox.scalebox {
	width: 100px;
}

.gwt-Button.expand-but {
	line-height: 0;
	font-size: 13px;
	margin-right: 5px;
	border-radius:0px;
	display: inline-block;
	text-align: center;
	width: 15px;
	height: 15px;
	padding-left: 0;
	padding-right: 0;
	padding-bottom:1px;
	padding-top:0;
	margin-bottom:1px;
	background:gray;
	color:white;
}


.topButton-red {
    margin-top: 5px;
    margin-bottom: 5px;
    margin-left:5px;
    padding: 5px 7px;
    text-decoration: none;
    color: #ffffff;
    cursor: pointer;
    cursor: hand;
    font-size: small;
    /*background-color: #ff0000; */
    /*border: 1px solid #bbb;*/
    /*border-bottom: 1px solid #a0a0a0;*/
    /*border-radius: 3px;*/
    /*-moz-border-radius: 3px;*/
}

.topButton {
    margin-top: 5px;
    margin-bottom: 5px;
    margin-left:5px;
    padding: 5px 7px;
    text-decoration: none;
    cursor: pointer;
    cursor: hand;
    font-size: small;
    background-color: #e7e7e7;
    /*border: 1px solid #bbb;*/
    /*border-bottom: 1px solid #a0a0a0;*/
    /*border-radius: 3px;*/
    /*-moz-border-radius: 3px;*/
}

.radioPanel label {
	margin-right: 15px;
}

.overlay-point{
    display: table-cell;
    vertical-align: middle;
    text-align: center;
    position: absolute;
    color: white;
    background: red;
    z-index: 1;
    width: 20px;
    height: 20px;
    border-radius: 5px;
    opacity: 90%;
    overflow: hidden;

    box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);
    /*transform: scale(1);*/
    /*animation: pulse 2s infinite;*/
  }

.overlay-area{
  display: table-cell;
  vertical-align: middle;
  text-align: center;
  position: absolute;
  color: white;
  background: #10D8E8;
  z-index: 1;
  width: 20px;
  height: 20px;
  border-radius: 5px;
  opacity: 80%;
  overflow: hidden;
  border-radius: 5px;

  box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);
  /*transform: scale(1);*/
  /*animation: pulse 2s infinite;*/
}

@keyframes pulse {
  0% {
    opacity: .15;
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);
  }

  70% {
    opacity: .7;
    transform: scale(1.25);
    box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);
  }

  100% {
    opacity: .2;
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
  }
}




</style>

<link rel="stylesheet" href="font/fontello.css">

<!-- Theme System -->
<link rel="stylesheet" href="/styles/theme-base.css"/>
<link rel="stylesheet" href="/styles/theme-dark.css"/>
<link rel="stylesheet" href="/styles/theme-light.css"/>
<link rel="stylesheet" href="/styles/theme-cinnamon.css"/>
<link rel="stylesheet" href="/styles/theme-maple-waffles.css"/>

<style>
/* Apply theme to GWT controls and simulator UI */

/* Style the control panel area */
body {
    background-color: var(--simulator-bg);
}

/* GWT MenuBar wrapper - the parent div that contains the menubar */
div[style*="position: absolute"][style*="height: 30px"],
div[style*="position: absolute"][style*="height: 35px"] {
    background-color: var(--color-bg-elevated) !important;
    height: 35px !important;
}

/* GWT MenuBar (File, Edit, Draw, etc.) */
.gwt-MenuBar {
    background-color: var(--color-bg-elevated) !important;
    border-bottom: 2px solid var(--color-border-default) !important;
}

.gwt-MenuBar-horizontal {
    background-color: var(--color-bg-elevated) !important;
}

.gwt-MenuBar table {
    background-color: var(--color-bg-elevated) !important;
}

.gwt-MenuItem {
    color: var(--color-text-primary) !important;
    padding: 6px 12px !important;
    transition: background-color var(--transition-fast) !important;
}

.gwt-MenuItem:hover {
    background-color: var(--color-bg-hover) !important;
}

.gwt-MenuItem[aria-haspopup="true"]:hover {
    background-color: var(--color-bg-hover) !important;
}

/* Vertical control panel */
#painel,
.verticalPanel {
    background-color: var(--color-bg-tertiary) !important;
}

/* Top buttons (Reset, Run/Stop) */
.topButton {
    background-color: var(--color-bg-elevated) !important;
    color: var(--color-text-primary) !important;
    border: 1px solid var(--color-border-default) !important;
    border-radius: var(--radius-sm) !important;
    transition: background-color var(--transition-fast) !important;
}

.topButton:hover {
    background-color: var(--color-bg-hover) !important;
}

.topButton-red {
    background-color: var(--color-status-error) !important;
    color: var(--color-text-inverse) !important;
    border: 1px solid var(--color-status-error) !important;
    border-radius: var(--radius-sm) !important;
    transition: background-color var(--transition-fast) !important;
    margin-top: 5px !important;
    margin-bottom: 5px !important;
    margin-left: 5px !important;
    padding: 5px 7px !important;
    cursor: pointer !important;
    font-size: small !important;
}

.topButton-red:hover {
    opacity: 0.9 !important;
}

/* GWT Labels in control panel */
.gwt-Label {
    color: var(--color-text-primary) !important;
}

.gwt-Label.disabled {
    color: var(--color-text-muted) !important;
}

/* GWT Buttons */
.gwt-Button {
    background-color: var(--color-bg-elevated) !important;
    color: var(--color-text-primary) !important;
    border: 1px solid var(--color-border-default) !important;
    border-radius: var(--radius-sm) !important;
}

.gwt-Button:hover {
    background-color: var(--color-bg-hover) !important;
}

/* GWT TextBox inputs */
.gwt-TextBox {
    background-color: var(--color-bg-primary) !important;
    color: var(--color-text-primary) !important;
    border: 1px solid var(--color-border-default) !important;
    border-radius: var(--radius-sm) !important;
}

.gwt-TextBox:focus {
    border-color: var(--brand-accent) !important;
}

/* Collapsible control panels */
.expand-but {
    background: var(--color-bg-hover) !important;
    color: var(--color-text-primary) !important;
    border: 1px solid var(--color-border-default) !important;
}

.expand-but:hover {
    background: var(--color-bg-elevated) !important;
}

/* GWT Frame in control panel */
.gwt-Frame {
    background-color: var(--color-bg-primary) !important;
    border: 1px solid var(--color-border-default) !important;
}
</style>

</head>
  <body>
    <!-- Mask to cover GWT menu wrapper with themed background -->
    <div style="position: absolute; top: 0; left: 0; right: 0; height: 35px; background-color: var(--color-bg-elevated); z-index: 100; pointer-events: none;"></div>

    <!-- Include the next line to allow support for dropbox import/export. You will need your own app key. -->
    <!--<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="YOUR_KEY"></script>-->

    <script language="javascript" src="/lz-string.min.js"></script>
    <!-- This script tag is what actually loads the GWT module.  The -->
    <!-- 'nocache.js' file (also called a "selection script") is     -->
    <!-- produced by the GWT compiler in the module output directory -->
    <!-- or generated automatically in development mode.             -->
    <!--    <script language="javascript" src="circuitjs1/circuitjs1.nocache.js"></script>-->
    <script language="javascript" src="/circuitjs1/circuitjs1.nocache.js"></script>

    <!-- Include a history iframe to enable full GWT history support -->
    <!-- (the id must be exactly as shown)                           -->
    <iframe src="javascript:''" id="__gwt_historyFrame" style="width:0;height:0;border:0"></iframe>

    <script>
        // Apply theme from parent window
        (function() {
            function applyTheme() {
                try {
                    // Get theme from parent window's localStorage
                    const savedTheme = window.parent.localStorage.getItem('app-theme') || 'dark';
                    document.documentElement.setAttribute('data-theme', savedTheme);
                    console.log('Simulator: Applied theme:', savedTheme);
                } catch (e) {
                    console.warn('Simulator: Could not access parent theme', e);
                }
            }

            // Apply on load
            applyTheme();

            // Listen for theme changes from parent
            window.addEventListener('message', function(event) {
                if (event.data && event.data.type === 'theme-change') {
                    document.documentElement.setAttribute('data-theme', event.data.theme);
                    console.log('Simulator: Theme changed to:', event.data.theme);
                }
            });
        })();
    </script>
  </body>

 </html>